<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKNWBLD Solutions | Enterprise Architecture</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            cyan: '#00F0FF',
                            green: '#39FF14',
                            pink: '#FF2A6D',
                            dark: '#0F1115'
                        }
                    },
                    fontFamily: {
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", 'monospace'],
                    }
                }
            }
        }
    </script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        body { background-color: #0F1115; color: white; overflow-x: hidden; }
        .selection-brand ::selection { background-color: #00F0FF; color: black; }
        canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .active-tab { border-color: #00F0FF; background-color: rgba(0, 240, 255, 0.1); color: white; box-shadow: 0 0 15px rgba(0, 240, 255, 0.2); }
        .inactive-tab { border-color: rgba(255,255,255,0.1); color: #6b7280; }
        .inactive-tab:hover { border-color: rgba(255,255,255,0.3); color: white; }
    </style>
</head>
<body class="selection-brand font-sans antialiased">

    <canvas id="bg-canvas"></canvas>

    <header class="fixed w-full top-0 z-50 border-b border-white/10 bg-[#0F1115]/80 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            <div class="font-mono font-black text-xl tracking-tighter uppercase flex items-center gap-2">
                <i data-lucide="terminal" class="w-6 h-6 text-brand-cyan"></i>
                HKNWBLD <span class="text-brand-cyan">SOLUTIONS</span>
            </div>
            <nav class="hidden md:flex space-x-8 font-mono text-xs uppercase tracking-widest text-white/60">
                <a href="#problem" class="hover:text-brand-cyan transition-colors">The Debt</a>
                <a href="#services" class="hover:text-brand-cyan transition-colors">Services</a>
                <a href="#audit" class="hover:text-brand-cyan transition-colors">Audit</a>
            </nav>
            <a href="#audit" class="bg-brand-cyan text-black px-5 py-2 text-xs font-black uppercase tracking-wider hover:shadow-[0_0_20px_rgba(0,240,255,0.4)] transition-all transform hover:-translate-y-0.5">
                Get Audit
            </a>
        </div>
    </header>

    <section class="relative z-10 pt-40 pb-24 px-6">
        <div class="max-w-6xl mx-auto">
            <div class="inline-flex items-center gap-2 px-3 py-1 mb-8 border border-brand-cyan/30 text-brand-cyan text-xs font-mono uppercase tracking-widest bg-brand-cyan/5 rounded">
                <i data-lucide="activity" class="w-3 h-3"></i>
                Operational Protocol: Salt Lake County
            </div>
            
            <h1 class="text-5xl md:text-8xl font-black tracking-tight leading-none mb-8">
                STOP LEAKING <br /> 
                REVENUE TO <br /> 
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-600">
                    LEGACY DEBT.
                </span>
            </h1>
            
            <p class="text-xl text-gray-400 max-w-2xl mb-10 leading-relaxed font-light">
                We modernize <span class="text-white font-bold">Salt Lake County's</span> Technical infrastructure with enterprise-grade stacks. 
                No billable hour bloat. Just high-velocity architecture for the Main Street economy.
            </p>
            
            <div class="flex flex-col md:flex-row gap-4">
                <a href="#audit" class="group bg-brand-cyan text-black px-8 py-4 text-lg font-black uppercase tracking-wider hover:shadow-[0_0_30px_rgba(0,240,255,0.4)] transition-all flex items-center justify-center gap-2">
                    Execute Technical Audit
                    <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                </a>
                <div class="flex items-center justify-center px-6 py-4 border border-white/10 bg-black/20 backdrop-blur font-mono text-xs text-gray-400">
                    <span class="w-2 h-2 bg-brand-green rounded-full mr-3 animate-pulse"></span>
                    SYSTEMS ONLINE: SLC / WEST JORDAN / DRAPER
                </div>
            </div>
        </div>
    </section>

    <section id="problem" class="relative z-10 py-24 border-y border-white/5 bg-[#1E2128]/50 backdrop-blur-sm">
        <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-12">
            <div class="p-8 border border-brand-pink/20 bg-black/40 backdrop-blur relative overflow-hidden group hover:border-brand-pink/50 transition-colors">
                <div class="absolute top-0 right-0 p-4 opacity-20">
                    <i data-lucide="lock" class="w-12 h-12 text-brand-pink"></i>
                </div>
                <div class="text-brand-pink mb-4 font-mono text-xs uppercase tracking-widest font-bold flex items-center gap-2">
                    <span class="w-2 h-2 bg-brand-pink"></span> The Myth
                </div>
                <h3 class="text-2xl font-bold mb-4 text-white">"You need a full-time dev team to scale."</h3>
                <p class="text-gray-400 leading-relaxed">
                    Legacy IT shops profit from inefficiency. They want you to believe complexity equals cost, 
                    benefiting when your systems require constant manual intervention and billable maintenance hours.
                </p>
            </div>

            <div class="p-8 border border-brand-green/20 bg-black/40 backdrop-blur relative overflow-hidden group hover:border-brand-green/50 transition-colors">
                <div class="absolute top-0 right-0 p-4 opacity-20">
                    <i data-lucide="cpu" class="w-12 h-12 text-brand-green"></i>
                </div>
                <div class="text-brand-green mb-4 font-mono text-xs uppercase tracking-widest font-bold flex items-center gap-2">
                    <span class="w-2 h-2 bg-brand-green"></span> The Reality
                </div>
                <h3 class="text-2xl font-bold mb-4 text-white">Simplicity is a performance lever.</h3>
                <p class="text-gray-400 leading-relaxed">
                    We replace fragile, ad-hoc tech with coherent, mapped systems. Automation does not fix a broken process; 
                    it accelerates it. We ensure stability first, then apply velocity.
                </p>
            </div>
        </div>
    </section>

    <section id="services" class="relative z-10 py-24 px-6 bg-[#0F1115]">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl font-black mb-12 font-mono uppercase flex items-center gap-4">
                 <span class="text-brand-cyan">>></span> Service Architecture
            </h2>

            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-4 flex flex-col gap-2" id="tier-buttons">
                    </div>

                <div class="lg:col-span-8">
                    <div class="border border-brand-cyan/30 bg-[#0F1115] h-full relative overflow-hidden flex flex-col min-h-[500px]">
                        <div class="bg-brand-cyan/10 border-b border-brand-cyan/30 p-4 flex justify-between items-center">
                            <div class="font-mono text-brand-cyan text-xs flex items-center gap-2">
                                <i data-lucide="terminal" class="w-4 h-4"></i>
                                HKNWBLD_SERVICE_V1.0
                            </div>
                            <div class="font-mono text-gray-500 text-xs">STATUS: ACTIVE</div>
                        </div>

                        <div id="service-content" class="p-8 flex-1 transition-opacity duration-300 opacity-100">
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="audit" class="relative z-10 py-24 px-6">
        <div class="max-w-4xl mx-auto">
            <div class="border border-brand-cyan/20 bg-gradient-to-b from-white/5 to-transparent p-12 relative overflow-hidden backdrop-blur-md">
                
                <div class="absolute top-0 right-0 p-6 opacity-20 font-mono text-[10px] text-right text-brand-cyan hidden md:block">
                    {
                      "status": "active",
                      "region": "SLC_COUNTY",
                      "priority": "high"
                    }
                </div>

                <div class="text-center mb-10">
                    <h2 class="text-4xl md:text-5xl font-black mb-6">
                        READY TO <span class="text-brand-green underline decoration-2 underline-offset-8">MODERNIZE?</span>
                    </h2>
                    <p class="text-gray-400 max-w-2xl mx-auto">
                        We bridge the capability gap between large tech firms and the local economy. 
                        Enter your details to initiate a preliminary technical audit.
                    </p>
                </div>

                <div id="form-container">
                    <form id="audit-form" class="max-w-md mx-auto space-y-4">
                        <div class="space-y-1">
                            <label class="text-[10px] font-mono text-brand-cyan uppercase tracking-widest">Target Identity</label>
                            <input 
                                name="businessName"
                                id="businessName"
                                required 
                                type="text" 
                                placeholder="BUSINESS NAME" 
                                class="w-full bg-black/50 border border-white/10 p-4 font-mono text-sm text-white focus:outline-none focus:border-brand-cyan focus:bg-black/80 transition-all placeholder:text-gray-700" 
                            />
                        </div>
                        <div class="space-y-1">
                            <label class="text-[10px] font-mono text-brand-cyan uppercase tracking-widest">Comm Channel</label>
                            <input 
                                name="email"
                                id="email"
                                required 
                                type="email" 
                                placeholder="DIRECT CONTACT EMAIL" 
                                class="w-full bg-black/50 border border-white/10 p-4 font-mono text-sm text-white focus:outline-none focus:border-brand-cyan focus:bg-black/80 transition-all placeholder:text-gray-700" 
                            />
                        </div>
                        <button type="submit" id="submit-btn" class="w-full bg-brand-cyan hover:bg-[#00cce6] text-black font-black uppercase tracking-widest py-4 transition-all hover:shadow-[0_0_20px_rgba(0,240,255,0.4)] flex justify-center items-center">
                           INITIATE FREE AUDIT
                        </button>
                    </form>
                </div>

                <div id="success-message" class="hidden bg-brand-green/10 border border-brand-green p-8 text-center animate-in fade-in zoom-in duration-300">
                    <i data-lucide="check-circle" class="w-16 h-16 text-brand-green mx-auto mb-4"></i>
                    <h3 class="text-2xl font-bold text-white mb-2">Audit Request Initiated</h3>
                    <p class="text-gray-400 font-mono text-sm">Our team will establish contact within 4 hours.</p>
                    <button onclick="resetForm()" class="mt-6 text-[10px] text-gray-500 hover:text-white underline uppercase tracking-widest">
                       Submit Another Request
                    </button>
                </div>

                <div id="error-message" class="hidden bg-red-500/10 border border-red-500 p-8 text-center mb-6">
                    <i data-lucide="alert-triangle" class="w-12 h-12 text-red-500 mx-auto mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Connection Failure</h3>
                    <p class="text-gray-400 text-sm mb-4">The secure handshake failed. Please try again.</p>
                    <button onclick="resetForm()" class="text-red-400 hover:text-white underline">Retry</button>
                </div>

                <p class="mt-8 text-center text-[10px] font-mono text-gray-600 uppercase tracking-widest">
                    Security Protocol: Direct Human Response Within 4 Hours
                </p>
            </div>
        </div>
    </section>

    <footer class="relative z-10 py-12 border-t border-white/5 bg-[#0F1115] text-center">
        <div class="font-mono text-[10px] text-gray-600 space-y-2">
            <p>HKNWBLD SOLUTIONS // SALT LAKE CITY, UT</p>
            <p>&copy; <span id="year"></span> ARCHITECTING THE MAIN STREET ECONOMY</p>
            <p class="text-brand-cyan/40 hover:text-brand-cyan cursor-crosshair transition-colors">DIAGNOSTICS_ENABLED.SYS</p>
        </div>
    </footer>

    <script>
        // --- 1. DATA CONFIGURATION ---
        const services = {
            '0': {
                title: 'TIER 0: SYSTEMS DIAGNOSTIC',
                subtitle: 'Start Here',
                price: '$500 - $1,200',
                description: 'We map exactly how your business works, find where you are losing money, and give you a prioritized plan to fix it.',
                who: 'Owners who feel like their tools are fighting them, or who are worried about "tool sprawl".',
                deliverables: ['Systems Map', 'Cost Leakage Report', 'Action Plan']
            },
            '1': {
                title: 'TIER 1: LOCAL REVENUE ENGINE',
                subtitle: 'Get More Leads',
                price: '$1,500 - $3,000',
                description: 'A complete system to turn local Google searches into paying customers. We build the visibility and intake process.',
                who: 'Contractors, shops, and food trucks that need the phone to ring more often.',
                deliverables: ['Google Business Profile', 'High-Conversion Website', 'Review System']
            },
            '2': {
                title: 'TIER 2: FOUNDATION STABILIZATION',
                subtitle: 'Stop the Bleeding',
                price: '$2,500 - $5,000',
                description: 'We fix the things that keep breaking. We stabilize your computers, Wi-Fi, and passwords.',
                who: 'Businesses with slow computers, shared passwords on sticky notes, or no backup plan.',
                deliverables: ['Workstation Cleanup', 'Secure Access Control', 'Security Basics']
            },
            '3': {
                title: 'TIER 3: AUTOMATION ENGINEERING',
                subtitle: 'Remove Manual Work',
                price: '$3,000 - $10,000+',
                description: 'We use software to do the boring, repetitive work for you. We connect your apps so data moves automatically.',
                who: 'Teams that are drowning in data entry or copy-pasting between spreadsheets.',
                deliverables: ['Workflow Design', 'Custom Automations', 'Error Logs']
            },
            '4': {
                title: 'TIER 4: OPERATOR PARTNERSHIP',
                subtitle: 'Your Fractional CTO',
                price: '$1,000 - $3,000 / mo',
                description: 'A dedicated technical partner to manage your systems long-term. We handle the tech strategy and vendors.',
                who: 'Growing businesses that need long-term stability and a technical leader.',
                deliverables: ['Quarterly Strategy', 'Vendor Management', 'Roadmap Execution']
            }
        };

        // --- 2. THREE.JS ANIMATION ---
        function initBackground() {
            const canvas = document.getElementById('bg-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);

            const size = 100;
            const divisions = 100;
            const gridHelper = new THREE.GridHelper(size, divisions, 0x00F0FF, 0x00F0FF);
            gridHelper.material.opacity = 0.1;
            gridHelper.material.transparent = true;
            scene.add(gridHelper);

            const gridHelper2 = new THREE.GridHelper(size, divisions, 0x00F0FF, 0x00F0FF);
            gridHelper2.material.opacity = 0.05;
            gridHelper2.material.transparent = true;
            gridHelper2.position.y = 10;
            scene.add(gridHelper2);

            camera.position.y = 2;
            camera.position.z = 5;
            camera.rotation.x = -0.2;

            function animate() {
                requestAnimationFrame(animate);
                gridHelper.position.z += 0.02;
                if (gridHelper.position.z > (size/divisions)) gridHelper.position.z = 0;
                gridHelper2.position.z += 0.01;
                if (gridHelper2.position.z > (size/divisions)) gridHelper2.position.z = 0;
                renderer.render(scene, camera);
            }

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            animate();
        }

        // --- 3. SERVICES LOGIC ---
        function initServices() {
            const btnContainer = document.getElementById('tier-buttons');
            const contentContainer = document.getElementById('service-content');
            let activeTier = '0';

            function renderButtons() {
                btnContainer.innerHTML = Object.entries(services).map(([key, service]) => `
                    <button onclick="switchTier('${key}')" class="p-4 text-left font-mono text-sm border transition-all duration-300 relative group overflow-hidden w-full ${activeTier === key ? 'active-tab' : 'inactive-tab'}">
                        <div class="flex items-center justify-between relative z-10">
                            <span class="font-bold">TIER ${key}</span>
                            ${activeTier === key ? '<span class="w-2 h-2 bg-brand-cyan animate-pulse"></span>' : ''}
                        </div>
                        <div class="text-xs mt-1 truncate opacity-70 relative z-10">${service.title.split(': ')[1]}</div>
                    </button>
                `).join('');
            }

            window.switchTier = (key) => {
                activeTier = key;
                renderButtons();
                renderContent(key);
            };

            function renderContent(key) {
                const s = services[key];
                contentContainer.innerHTML = `
                    <div class="mb-8 pb-8 border-b border-white/10 animate-fade-in">
                        <div class="inline-block px-2 py-1 bg-brand-green/10 text-brand-green text-[10px] font-mono mb-4 border border-brand-green/30">
                            ${s.subtitle.toUpperCase()}
                        </div>
                        <h3 class="text-3xl font-black mb-2 text-white">${s.title}</h3>
                        <p class="text-xl text-gray-400 font-light">${s.description}</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8 mb-8">
                        <div>
                            <h4 class="font-mono text-brand-cyan text-xs mb-4 uppercase tracking-widest">Target Profile</h4>
                            <p class="text-sm text-gray-300 leading-relaxed border-l-2 border-white/10 pl-4">${s.who}</p>
                        </div>
                        <div>
                            <h4 class="font-mono text-brand-cyan text-xs mb-4 uppercase tracking-widest">Investment</h4>
                            <div class="font-mono text-2xl text-white font-bold">${s.price}</div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-mono text-brand-cyan text-xs mb-4 uppercase tracking-widest">Core Deliverables</h4>
                        <ul class="space-y-3">
                            ${s.deliverables.map(item => `
                                <li class="flex items-start gap-3 text-sm text-gray-300">
                                    <i data-lucide="check-circle" class="w-4 h-4 text-brand-green mt-0.5 shrink-0"></i>
                                    ${item}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    <div class="mt-10 pt-6 border-t border-white/5 flex justify-end">
                        <a href="#audit" class="text-xs font-mono text-brand-cyan hover:text-white flex items-center gap-2 transition-colors">
                            INITIATE REQUEST <i data-lucide="arrow-right" class="w-3 h-3"></i>
                        </a>
                    </div>
                `;
                lucide.createIcons();
            }

            renderButtons();
            renderContent('0');
        }

        // --- 4. FORM LOGIC ---
        function initForm() {
            const form = document.getElementById('audit-form');
            const submitBtn = document.getElementById('submit-btn');
            const formContainer = document.getElementById('form-container');
            const successMsg = document.getElementById('success-message');
            const errorMsg = document.getElementById('error-message');

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Set Loading State
                submitBtn.innerHTML = `<span class="flex items-center gap-2"><span class="w-2 h-2 bg-black rounded-full animate-bounce"></span> ESTABLISHING CONNECTION...</span>`;
                submitBtn.disabled = true;

                const formData = {
                    businessName: document.getElementById('businessName').value,
                    email: document.getElementById('email').value
                };

                try {
                    // Call Netlify Function
                    const response = await fetch('/.netlify/functions/submit-lead', {
                        method: 'POST',
                        body: JSON.stringify(formData),
                        headers: { 'Content-Type': 'application/json' }
                    });

                    if (response.ok) {
                        formContainer.classList.add('hidden');
                        successMsg.classList.remove('hidden');
                        form.reset();
                    } else {
                        throw new Error('Network response was not ok');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    formContainer.classList.add('hidden');
                    errorMsg.classList.remove('hidden');
                } finally {
                    submitBtn.innerHTML = 'INITIATE FREE AUDIT';
                    submitBtn.disabled = false;
                }
            });

            window.resetForm = () => {
                successMsg.classList.add('hidden');
                errorMsg.classList.add('hidden');
                formContainer.classList.remove('hidden');
            };
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('year').textContent = new Date().getFullYear();
            initBackground();
            initServices();
            initForm();
            lucide.createIcons();
        });
    </script>
</body>
</html>
